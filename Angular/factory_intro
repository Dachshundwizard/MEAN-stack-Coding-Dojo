// Create a module
var myAppModule = angular.module('myApp', []);
// Create a factory (attached to this module)
myAppModule.factory('studentFactory', function() {
    // The factory is nothing more than a function that returns an object
    var students = [
        {name: 'Mike', age: 34},
        {name: 'Quinten', age: 25},
        {name: 'Dino', age:9}
    ];
    var factory = {};
    // Add a getStudents key to the factory object with a value of a function
    factory.getStudents = function(callback){
        callback(students); // Pass the students to a callback to be used by whoever calls the method
    }
    return factory;
});

// Create a controller (attached to this module), and inject the studentFactory into it.
myAppModule.controller('studentsController', ['$scope', 'studentFactory', function($scope, studentFactory){
    // Initialize an empty array so $scope.students maintains a consistent data type
    $scope.students = [];
    // run the getStudents method and set $scope data in the callback
    studentFactory.getStudents(function(data){
        $scope.students = data;
    })
}])
